var m=Object.defineProperty;var p=(o,s,t)=>s in o?m(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t;var r=(o,s,t)=>(p(o,typeof s!="symbol"?s+"":s,t),t);import{j as e,r as d,a as n,b as h}from"./app-c2340fc2.js";function u({value:o,className:s="",children:t,...i}){return e.jsx("label",{...i,className:"block font-medium text-sm text-gray-700 "+s,children:o||t})}const x=d.forwardRef(function({type:s="text",className:t="",isFocused:i=!1,...l},a){const c=a||d.useRef();return d.useEffect(()=>{i&&c.current.focus()},[]),e.jsx("input",{...l,type:s,className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm "+t,ref:c})});function g({className:o="",disabled:s,children:t,...i}){return e.jsx("button",{...i,className:`inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 ${s&&"opacity-25"} `+o,disabled:s,children:t})}class f extends d.Component{constructor(){super();r(this,"descriptionChanged",t=>{this.setState({description:t.target.value})});r(this,"addTodo",t=>{t.preventDefault(),n.post(route("todo-item.store"),{description:this.state.description}).then(i=>{this.setState({description:""}),this.props.itemAdded(i.data.data)})});this.state={description:""}}render(){return e.jsx(e.Fragment,{children:e.jsx("form",{className:"sm:flex sm:justify-center sm:items-center",onSubmit:this.addTodo,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 items-end",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"todo-description",children:"Add Todo Item"}),e.jsx(x,{id:"todo-description",name:"description",maxLength:"255",required:!0,onChange:this.descriptionChanged,value:this.state.description})]}),e.jsx("div",{children:e.jsx(g,{type:"submit",children:"Add"})})]})})})}}function j({className:o="",disabled:s,children:t,...i}){return e.jsx("button",{...i,className:`inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150 ${s&&"opacity-25"} `+o,disabled:s,children:t})}class b extends d.Component{constructor(){super();r(this,"delete",()=>{n.delete(route("todo-item.destroy",{id:this.props.item.id})).then(t=>{this.props.itemDeleted(this.props.item)})});r(this,"toggleCompleted",()=>{n.post(route("todo-item.toggle-completed",{id:this.props.item.id})).then(t=>{this.props.itemToggleCompleted(t.data.data)})})}render(){return e.jsx(e.Fragment,{children:e.jsxs("tr",{className:`border-b ${this.props.item.completed?"bg-gray-100":"bg-white"}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{checked:this.props.item.completed,id:"checkbox-table-search-1",type:"checkbox",onChange:this.toggleCompleted,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-200 rounded focus:ring-blue-500 focus:ring-2"})}),e.jsx("td",{className:`px-6 py-4 ${this.props.item.completed?"line-through":""}`,children:this.props.item.description}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(j,{onClick:this.delete,children:"DELETE"})})]})})}}class y extends d.Component{constructor(){super();r(this,"getTodoItems",()=>{n.get(route("todo-item.index")).then(t=>{this.setState({todo_items:[...t.data.data]})})});r(this,"itemAdded",t=>{this.setState({todo_items:[...this.state.todo_items,t]})});r(this,"itemDeleted",t=>{this.setState({todo_items:this.state.todo_items.filter(function(i){return i.id!==t.id})})});r(this,"itemToggleCompleted",t=>{this.setState({todo_items:this.state.todo_items.map(function(i){return i.id===t.id?t:i})})});this.state={todo_items:[]}}componentDidMount(){this.getTodoItems()}render(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{itemAdded:this.itemAdded}),e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mt-5",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Completed?"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Description"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:this.state.todo_items.map((t,i)=>e.jsx(b,{item:t,itemDeleted:this.itemDeleted,itemToggleCompleted:this.itemToggleCompleted},i))})]})})]})}}function w({auth:o}){return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"To-do List"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx(y,{})})})})]})}export{w as default};
